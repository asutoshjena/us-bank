(function(n){n.extend(n.fn,{validate:function(t){if(this.length){var i=n.data(this[0],"validator");return i?i:(i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],e;if(t){var u=n.data(r.form,"validator").settings,o=u.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));o[r.name]=f;i.messages&&(u.messages[r.name]=n.extend(u.messages[r.name],i.messages));break;case"remove":return i?(e={},n.each(i.split(/\s/),function(n,t){e[t]=f[t];delete f[t]}),e):(delete o[r.name],f)}}return r=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),r.required&&(u=r.required,delete r.required,r=n.extend({required:u},r)),r}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(RegExp("\\{"+n+"\\}","g"),i)}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n){(n.name in this.submitted||n==this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator");t="on"+t.type.replace(/^validate/,"");i.settings[t]&&i.settings[t].call(i,this[0])}var r,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();r=this.groups={};n.each(this.settings.groups,function(t,i){n.each(i.split(/\s/),function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",i).validateDelegate(":radio, :checkbox, select, option","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){this.lastElement=t=this.clean(t);this.prepareElement(t);this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:i[this.name]=!0})},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},check:function(t){var i,r,u,f,e;t=this.clean(t);this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]);i=n(t).rules();r=!1;for(u in i){f={method:u,parameters:i[u]};try{if(e=n.validator.methods[u].call(this,t.value.replace(/\r/g,""),t,f.parameters),e=="dependency-mismatch")r=!0;else{if(r=!1,e=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!e)return this.formatAndAdd(t,f),!1}}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+f.method+"' method",o);throw o;}}if(!r)return this.objectLength(i)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters));this.errorList.push({message:i,element:n});this.errorMap[n.name]=i;this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,t=this.validElements();t[n];n++)this.settings.unhighlight.call(this,t[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass().addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={};return(t=n(t).attr("class"))&&n.each(t.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},r,u;t=n(t);for(r in n.validator.methods)u=t.attr(r),u&&(i[r]=u);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)delete t[r];else if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=r!=undefined?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":return(t=n(i).val())&&t.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0}},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var o,e;u.settings.messages[i.name].remote=f.originalMessage;o=r===!0;o?(e=u.formSubmitted,u.prepareElement(i),u.formSubmitted=e,u.successList.push(i),u.showErrors()):(e={},r=r||u.defaultMessage(i,"remote"),e[i.name]=f.message=n.isFunction(r)?r(t):r,u.showErrors(e));f.valid=o;u.stopRequest(i,o)}},r)),"pending")},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){return t=this.getLength(n.trim(t),i),this.optional(i)||t>=r[0]&&t<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r;if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)i=n.charAt(r),i=parseInt(i,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){return r=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t==r.val()}}});n.format=n.validator.format})(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){i=n.port;n.mode=="abort"&&(t[i]&&t[i].abort(),t[i]=r)}):(i=n.ajax,n.ajax=function(r){var u=("port"in r?r:n.ajaxSettings).port;return("mode"in r?r:n.ajaxSettings).mode=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}});n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery);typeof JSON!="object"&&(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var s,l,h,a,v=n,c,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i));typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,c=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,s=0;s<a;s+=1)c[s]=u(s,e)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));else for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(n,t){var r,u,i=n[t];if(i&&typeof i=="object")for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(u=walk(i,r),u!==undefined?i[r]=u:delete i[r]);return reviver.call(n,t,i)}var j;if(text=String(text),f.lastIndex=0,f.test(text)&&(text=text.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}(),function(n){function e(n){throw n;}function h(n,t){return n&&"object"==typeof n?t=n:(t=t||{},t.read=n||t.read),"function"!=typeof t.read&&e("Pass a function that returns the value of the dependentObservable"),t}function s(n,i,r){r&&i!==t.h.q(n)&&t.h.S(n,i);i!==t.h.q(n)&&t.a.sa(n,"change")}var u=void 0,i=!0,r=null,f=!1,t=n.ko={},o;t.b=function(t,i){for(var r=t.split("."),u=n,f=0;f<r.length-1;f++)u=u[r[f]];u[r[r.length-1]]=i};t.l=function(n,t,i){n[t]=i};t.a=new function(){function a(n,t){if("INPUT"!=n.tagName||!n.type||"click"!=t.toLowerCase())return f;var i=n.type.toLowerCase();return"checkbox"==i||"radio"==i}var p=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,s={},v={},l,h,c,y,o;s[/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];s.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");for(l in s)if(h=s[l],h.length)for(c=0,y=h.length;c<y;c++)v[h[c]]=l;return o=function(){for(var n=3,t=document.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",i[0];);return 4<n?n:u}(),{Ba:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},k:function(n,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},Wa:function(n,t,i){for(var u=0,f=n.length;u<f;u++)if(t.call(i,n[u]))return n[u];return r},ca:function(n,i){var r=t.a.k(n,i);0<=r&&n.splice(r,1)},ya:function(n){for(var n=n||[],r=[],i=0,u=n.length;i<u;i++)0>t.a.k(r,n[i])&&r.push(n[i]);return r},ba:function(n,t){for(var n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},aa:function(n,t){for(var n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},J:function(n,t){for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},extend:function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},U:function(n){for(;n.firstChild;)t.removeNode(n.firstChild)},oa:function(n,i){t.a.U(n);i&&t.a.n(i,function(t){n.appendChild(t)})},Ja:function(n,i){var u=n.nodeType?[n]:n;if(0<u.length){for(var e=u[0],o=e.parentNode,r=0,f=i.length;r<f;r++)o.insertBefore(i[r],e);for(r=0,f=u.length;r<f;r++)t.removeNode(u[r])}},La:function(n,t){0<=navigator.userAgent.indexOf("MSIE 6")?n.setAttribute("selected",t):n.selected=t},z:function(n){return(n||"").replace(p,"")},Db:function(n,i){for(var u,f=[],e=(n||"").split(i),r=0,o=e.length;r<o;r++)u=t.a.z(e[r]),""!==u&&f.push(u);return f},Cb:function(n,t){return n=n||"",t.length>n.length?f:n.substring(0,t.length)===t},hb:function(n){for(var i=Array.prototype.slice.call(arguments,1),r="return ("+n+")",t=0;t<i.length;t++)i[t]&&"object"==typeof i[t]&&(r="with(sc["+t+"]) { "+r+" } ");return new Function("sc",r)(i)},fb:function(n,t){if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(n)&16);for(;n!=r;){if(n==t)return i;n=n.parentNode}return f},ga:function(n){return t.a.fb(n,document)},s:function(n,t,r){if("undefined"!=typeof jQuery){if(a(n,t))var u=r,r=function(n,t){var r=this.checked;t&&(this.checked=t.Ya!==i);u.call(this,n);this.checked=r};jQuery(n).bind(t,r)}else"function"==typeof n.addEventListener?n.addEventListener(t,r,f):"undefined"!=typeof n.attachEvent?n.attachEvent("on"+t,function(t){r.call(n,t)}):e(Error("Browser doesn't support addEventListener or attachEvent"))},sa:function(t,r){if(t&&t.nodeType||e(Error("element must be a DOM node when calling triggerEvent")),"undefined"!=typeof jQuery){var u=[];a(t,r)&&u.push({Ya:t.checked});jQuery(t).trigger(r,u)}else"function"==typeof document.createEvent?"function"==typeof t.dispatchEvent?(u=document.createEvent(v[r]||"HTMLEvents"),u.initEvent(r,i,i,n,0,0,0,0,0,f,f,f,f,0,t),t.dispatchEvent(u)):e(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof t.fireEvent?("click"==r&&"INPUT"==t.tagName&&("checkbox"==t.type.toLowerCase()||"radio"==t.type.toLowerCase())&&(t.checked=t.checked!==i),t.fireEvent("on"+r)):e(Error("Browser doesn't support triggering events"))},d:function(n){return t.V(n)?n():n},eb:function(n,i){return 0<=t.a.k((n.className||"").split(/\s+/),i)},Qa:function(n,i,r){var u=t.a.eb(n,i);if(r&&!u)n.className=(n.className||"")+" "+i;else if(u&&!r){for(var r=(n.className||"").split(/\s+/),u="",f=0;f<r.length;f++)r[f]!=i&&(u+=r[f]+" ");n.className=t.a.z(u)}},outerHTML:function(t){if(o===u){var r=t.outerHTML;if("string"==typeof r)return r}return r=n.document.createElement("div"),r.appendChild(t.cloneNode(i)),r.innerHTML},Ma:function(n,i){var f=t.a.d(i);(f===r||f===u)&&(f="");"innerText"in n?n.innerText=f:n.textContent=f;9<=o&&(n.innerHTML=n.innerHTML)},yb:function(n,i){for(var n=t.a.d(n),i=t.a.d(i),u=[],r=n;r<=i;r++)u.push(r);return u},X:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},ob:6===o,pb:7===o,Ca:function(n,i){for(var u=t.a.X(n.getElementsByTagName("INPUT")).concat(t.a.X(n.getElementsByTagName("TEXTAREA"))),e="string"==typeof i?function(n){return n.name===i}:function(n){return i.test(n.name)},f=[],r=u.length-1;0<=r;r--)e(u[r])&&f.push(u[r]);return f},vb:function(i){return"string"==typeof i&&(i=t.a.z(i))?n.JSON&&n.JSON.parse?n.JSON.parse(i):new Function("return "+i)():r},qa:function(n){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(t.a.d(n))},wb:function(n,i,r){var r=r||{},h=r.params||{},l=r.includeFields||this.Ba,c=n,o,s,e,i,u,f;if("object"==typeof n&&"FORM"==n.tagName)for(c=n.action,o=l.length-1;0<=o;o--)for(s=t.a.Ca(n,l[o]),e=s.length-1;0<=e;e--)h[s[e].name]=s[e].value;i=t.a.d(i);u=document.createElement("FORM");u.style.display="none";u.action=c;u.method="post";for(f in i)n=document.createElement("INPUT"),n.name=f,n.value=t.a.qa(t.a.d(i[f])),u.appendChild(n);for(f in h)n=document.createElement("INPUT"),n.name=f,n.value=h[f],u.appendChild(n);document.body.appendChild(u);r.submitter?r.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}};t.b("ko.utils",t.a);t.a.n([["arrayForEach",t.a.n],["arrayFirst",t.a.Wa],["arrayFilter",t.a.aa],["arrayGetDistinctValues",t.a.ya],["arrayIndexOf",t.a.k],["arrayMap",t.a.ba],["arrayPushAll",t.a.J],["arrayRemoveItem",t.a.ca],["extend",t.a.extend],["fieldsIncludedWithJsonPost",t.a.Ba],["getFormFields",t.a.Ca],["postJson",t.a.wb],["parseJson",t.a.vb],["registerEventHandler",t.a.s],["stringifyJson",t.a.qa],["range",t.a.yb],["toggleDomNodeCssClass",t.a.Qa],["triggerEvent",t.a.sa],["unwrapObservable",t.a.d]],function(n){t.b("ko.utils."+n[0],n[1])});Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});t.a.e=new function(){var o=0,n="__ko__"+(new Date).getTime(),e={};return{get:function(n,i){var r=t.a.e.getAll(n,f);return r===u?u:r[i]},set:function(n,r,e){e===u&&t.a.e.getAll(n,f)===u||(t.a.e.getAll(n,i)[r]=e)},getAll:function(t,i){var r=t[n];if(!(r&&"null"!==r)){if(!i)return;r=t[n]="ko"+o++;e[r]={}}return e[r]},clear:function(t){var i=t[n];i&&(delete e[i],t[n]=r)}}};t.b("ko.utils.domData",t.a.e);t.b("ko.utils.domData.clear",t.a.e.clear);t.a.A=new function(){function n(n,i){var f=t.a.e.get(n,r);return f===u&&i&&(f=[],t.a.e.set(n,r,f)),f}function o(i){var r=n(i,f),u;if(r)for(r=r.slice(0),u=0;u<r.length;u++)r[u](i);t.a.e.clear(i);"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([i])}var r="__ko_domNodeDisposal__"+(new Date).getTime();return{va:function(t,r){"function"!=typeof r&&e(Error("Callback must be a function"));n(t,i).push(r)},Ia:function(i,e){var o=n(i,f);o&&(t.a.ca(o,e),0==o.length&&t.a.e.set(i,r,u))},F:function(n){var i,n,r;if(!(1!=n.nodeType&&9!=n.nodeType))for(o(n),i=[],t.a.J(i,n.getElementsByTagName("*")),n=0,r=i.length;n<r;n++)o(i[n])},removeNode:function(n){t.F(n);n.parentNode&&n.parentNode.removeChild(n)}}};t.F=t.a.A.F;t.removeNode=t.a.A.removeNode;t.b("ko.cleanNode",t.F);t.b("ko.removeNode",t.removeNode);t.b("ko.utils.domNodeDisposal",t.a.A);t.b("ko.utils.domNodeDisposal.addDisposeCallback",t.a.A.va);t.b("ko.utils.domNodeDisposal.removeDisposeCallback",t.a.A.Ia);t.a.ma=function(i){var r,u;if("undefined"!=typeof jQuery){if((r=jQuery.clean([i]))&&r[0]){for(i=r[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}}else{for(u=t.a.z(i).toLowerCase(),r=document.createElement("div"),u=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],i="ignored<div>"+u[1]+i+u[2]+"<\/div>","function"==typeof n.innerShiv?r.appendChild(n.innerShiv(i)):r.innerHTML=i;u[0]--;)r=r.lastChild;r=t.a.X(r.lastChild.childNodes)}return r};t.a.Z=function(n,i){if(t.a.U(n),i!==r&&i!==u)if("string"!=typeof i&&(i=i.toString()),"undefined"!=typeof jQuery)jQuery(n).html(i);else for(var e=t.a.ma(i),f=0;f<e.length;f++)n.appendChild(e[f])};t.b("ko.utils.parseHtmlFragment",t.a.ma);t.b("ko.utils.setHtml",t.a.Z);t.r=function(){function f(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function o(n,i){var u;if(n)if(8==n.nodeType)u=t.r.Ga(n.nodeValue),u!=r&&i.push({cb:n,tb:u});else if(1==n.nodeType)for(var u=0,f=n.childNodes,e=f.length;u<e;u++)o(f[u],i)}var n={};return{ka:function(t){"function"!=typeof t&&e(Error("You can only pass a function to ko.memoization.memoize()"));var i=f()+f();return n[i]=t,"<!--[ko_memo:"+i+"]-->"},Ra:function(t,f){var o=n[t];o===u&&e(Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized."));try{return o.apply(r,f||[]),i}finally{delete n[t]}},Sa:function(n,i){var f=[],u,s,r,e;for(o(n,f),u=0,s=f.length;u<s;u++)r=f[u].cb,e=[r],i&&t.a.J(e,i),t.r.Ra(f[u].tb,e),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},Ga:function(n){return(n=n.match(/^\[ko_memo\:(.*?)\]$/))?n[1]:r}}}();t.b("ko.memoization",t.r);t.b("ko.memoization.memoize",t.r.ka);t.b("ko.memoization.unmemoize",t.r.Ra);t.b("ko.memoization.parseMemoText",t.r.Ga);t.b("ko.memoization.unmemoizeDomNodeAndDescendants",t.r.Sa);t.Aa={throttle:function(n,i){n.throttleEvaluation=i;var u=r;return t.i({read:n,write:function(t){clearTimeout(u);u=setTimeout(function(){n(t)},i)}})},notify:function(n,i){return n.equalityComparer="always"==i?function(){return f}:t.w.fn.equalityComparer,n}};t.b("ko.extenders",t.Aa);t.Oa=function(n,i){this.da=n;this.bb=i;t.l(this,"dispose",this.v)};t.Oa.prototype.v=function(){this.nb=i;this.bb()};t.R=function(){this.u={};t.a.extend(this,t.R.fn);t.l(this,"subscribe",this.ra);t.l(this,"extend",this.extend);t.l(this,"getSubscriptionsCount",this.kb)};t.R.fn={ra:function(n,i,r){var r=r||"change",n=i?n.bind(i):n,u=new t.Oa(n,function(){t.a.ca(this.u[r],u)}.bind(this));return this.u[r]||(this.u[r]=[]),this.u[r].push(u),u},notifySubscribers:function(n,r){r=r||"change";this.u[r]&&t.a.n(this.u[r].slice(0),function(t){t&&t.nb!==i&&t.da(n)})},kb:function(){var t=0,n;for(n in this.u)this.u.hasOwnProperty(n)&&(t+=this.u[n].length);return t},extend:function(n){var i=this,r,u;if(n)for(r in n)u=t.Aa[r],"function"==typeof u&&(i=u(i,n[r]));return i}};t.Ea=function(n){return"function"==typeof n.ra&&"function"==typeof n.notifySubscribers};t.b("ko.subscribable",t.R);t.b("ko.isSubscribable",t.Ea);t.T=function(){var n=[];return{Xa:function(t){n.push({da:t,za:[]})},end:function(){n.pop()},Ha:function(i){if(t.Ea(i)||e("Only subscribable things can act as dependencies"),0<n.length){var r=n[n.length-1];0<=t.a.k(r.za,i)||(r.za.push(i),r.da(i))}}}}();o={undefined:i,boolean:i,number:i,string:i};t.w=function(n){function i(){return 0<arguments.length?(i.equalityComparer&&i.equalityComparer(r,arguments[0])||(i.H(),r=arguments[0],i.G()),this):(t.T.Ha(i),r)}var r=n;return t.R.call(i),i.G=function(){i.notifySubscribers(r)},i.H=function(){i.notifySubscribers(r,"beforeChange")},t.a.extend(i,t.w.fn),t.l(i,"valueHasMutated",i.G),t.l(i,"valueWillMutate",i.H),i};t.w.fn={B:t.w,equalityComparer:function(n,t){return n===r||typeof n in o?n===t:f}};t.V=function(n){return n===r||n===u||n.B===u?f:n.B===t.w?i:t.V(n.B)};t.P=function(n){return"function"==typeof n&&n.B===t.w?i:"function"==typeof n&&n.B===t.i&&n.lb?i:f};t.b("ko.observable",t.w);t.b("ko.isObservable",t.V);t.b("ko.isWriteableObservable",t.P);t.Q=function(n){0==arguments.length&&(n=[]);n===r||n===u||"length"in n||e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var i=new t.w(n);return t.a.extend(i,t.Q.fn),t.l(i,"remove",i.remove),t.l(i,"removeAll",i.zb),t.l(i,"destroy",i.fa),t.l(i,"destroyAll",i.ab),t.l(i,"indexOf",i.indexOf),t.l(i,"replace",i.replace),i};t.Q.fn={remove:function(n){for(var u,r=this(),i=[],f="function"==typeof n?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(0===i.length&&this.H(),i.push(u),r.splice(t,1),t--);return i.length&&this.G(),i},zb:function(n){if(n===u){var i=this(),r=i.slice(0);return this.H(),i.splice(0,i.length),this.G(),r}return n?this.remove(function(i){return 0<=t.a.k(n,i)}):[]},fa:function(n){var r=this(),u="function"==typeof n?n:function(t){return t===n},t;for(this.H(),t=r.length-1;0<=t;t--)u(r[t])&&(r[t]._destroy=i);this.G()},ab:function(n){return n===u?this.fa(function(){return i}):n?this.fa(function(i){return 0<=t.a.k(n,i)}):[]},indexOf:function(n){var i=this();return t.a.k(i,n)},replace:function(n,t){var i=this.indexOf(n);0<=i&&(this.H(),this()[i]=t,this.G())}};t.a.n("pop,push,reverse,shift,sort,splice,unshift".split(","),function(n){t.Q.fn[n]=function(){var t=this();return this.H(),t=t[n].apply(t,arguments),this.G(),t}});t.a.n(["slice"],function(n){t.Q.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});t.b("ko.observableArray",t.Q);t.i=function(n,u,o){function k(){t.a.n(l,function(n){n.v()});l=[]}function d(){var n=s.throttleEvaluation;n&&0<=n?(clearTimeout(b),b=setTimeout(a,n)):a()}function a(){if(y&&"function"==typeof o.disposeWhen&&o.disposeWhen())s.v();else{try{k();t.T.Xa(function(n){l.push(n.ra(d))});var n=o.read.call(o.owner||u);s.notifySubscribers(v,"beforeChange");v=n}finally{t.T.end()}s.notifySubscribers(v);y=i}}function s(){if(0<arguments.length)"function"==typeof o.write?o.write.apply(o.owner||u,arguments):e("Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");else return y||a(),t.T.Ha(s),v}var v,y=f,o=h(n,o),c="object"==typeof o.disposeWhenNodeIsRemoved?o.disposeWhenNodeIsRemoved:r,p=r,w,l,b;return c&&(p=function(){s.v()},t.a.A.va(c,p),w=o.disposeWhen,o.disposeWhen=function(){return!t.a.ga(c)||"function"==typeof w&&w()}),l=[],b=r,s.jb=function(){return l.length},s.lb="function"==typeof o.write,s.v=function(){c&&t.a.A.Ia(c,p);k()},t.R.call(s),t.a.extend(s,t.i.fn),o.deferEvaluation!==i&&a(),t.l(s,"dispose",s.v),t.l(s,"getDependenciesCount",s.jb),s};t.i.fn={B:t.i};t.i.B=t.w;t.b("ko.dependentObservable",t.i);t.b("ko.computed",t.i),function(){function n(t,e,o){if(o=o||new f,t=e(t),!("object"==typeof t&&t!==r&&t!==u&&!(t instanceof Date)))return t;var s=t instanceof Array?[]:{};return o.save(t,s),i(t,function(i){var r=e(t[i]),f;switch(typeof r){case"boolean":case"number":case"string":case"function":s[i]=r;break;case"object":case"undefined":f=o.get(r);s[i]=f!==u?f:n(r,e,o)}}),s}function i(n,t){if(n instanceof Array)for(var i=0;i<n.length;i++)t(i);else for(i in n)t(i)}function f(){var n=[],i=[];this.save=function(r,u){var f=t.a.k(n,r);0<=f?i[f]=u:(n.push(r),i.push(u))};this.get=function(r){return r=t.a.k(n,r),0<=r?i[r]:u}}t.Pa=function(i){return 0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert.")),n(i,function(n){for(var i=0;t.V(n)&&10>i;i++)n=n();return n})};t.toJSON=function(n){return n=t.Pa(n),t.a.qa(n)}}();t.b("ko.toJS",t.Pa);t.b("ko.toJSON",t.toJSON);t.h={q:function(n){return"OPTION"==n.tagName?n.__ko__hasDomDataOptionValue__===i?t.a.e.get(n,t.c.options.la):n.getAttribute("value"):"SELECT"==n.tagName?0<=n.selectedIndex?t.h.q(n.options[n.selectedIndex]):u:n.value},S:function(n,f){if("OPTION"==n.tagName)switch(typeof f){case"string":t.a.e.set(n,t.c.options.la,u);"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__;n.value=f;break;default:t.a.e.set(n,t.c.options.la,f);n.__ko__hasDomDataOptionValue__=i;n.value="number"==typeof f?f:""}else if("SELECT"==n.tagName){for(var e=n.options.length-1;0<=e;e--)if(t.h.q(n.options[e])==f){n.selectedIndex=e;break}}else(f===r||f===u)&&(f=""),n.value=f}};t.b("ko.selectExtensions",t.h);t.b("ko.selectExtensions.readValue",t.h.q);t.b("ko.selectExtensions.writeValue",t.h.S);t.j=function(){function n(n,t){for(var i=r;n!=i;)i=n,n=n.replace(u,function(n,i){return t[i]});return n}var u=/\@ko_token_(\d+)\@/g,e=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,o=["true","false"];return{D:[],Y:function(i){var u=t.a.z(i),e;if(3>u.length)return[];"{"===u.charAt(0)&&(u=u.substring(1,u.length-1));for(var i=[],o=r,s,f=0;f<u.length;f++)if(e=u.charAt(f),o===r)switch(e){case'"':case"'":case"/":o=f;s=e}else if(e==s&&"\\"!==u.charAt(f-1)){e=u.substring(o,f+1);i.push(e);var l="@ko_token_"+(i.length-1)+"@",u=u.substring(0,o)+l+u.substring(f+1),f=f-(e.length-l.length),o=r}s=o=r;for(var h=0,c=r,f=0;f<u.length;f++){if(e=u.charAt(f),o===r)switch(e){case"{":o=f;c=e;s="}";break;case"(":o=f;c=e;s=")";break;case"[":o=f;c=e;s="]"}e===c?h++:e===s&&(h--,0===h&&(e=u.substring(o,f+1),i.push(e),l="@ko_token_"+(i.length-1)+"@",u=u.substring(0,o)+l+u.substring(f+1),f-=e.length-l.length,o=r))}for(s=[],u=u.split(","),o=0,f=u.length;o<f;o++)h=u[o],c=h.indexOf(":"),0<c&&c<h.length-1?(e=h.substring(c+1),s.push({key:n(h.substring(0,c),i),value:n(e,i)})):s.push({unknown:n(h,i)});return s},ia:function(n){for(var h,f,s="string"==typeof n?t.j.Y(n):n,u=[],n=[],i,c=0;i=s[c];c++)if(0<u.length&&u.push(","),i.key){n:{h=i.key;f=t.a.z(h);switch(f.length&&f.charAt(0)){case"'":case'"':break n;default:h="'"+f+"'"}}i=i.value;u.push(h);u.push(":");u.push(i);f=t.a.z(i);(0<=t.a.k(o,t.a.z(f).toLowerCase())?0:f.match(e)!==r)&&(0<n.length&&n.push(", "),n.push(h+" : function(__ko_value) { "+i+" = __ko_value; }"))}else i.unknown&&u.push(i.unknown);return s=u.join(""),0<n.length&&(s=s+", '_ko_property_writers' : { "+n.join("")+" } "),s},rb:function(n,r){for(var u=0;u<n.length;u++)if(t.a.z(n[u].key)==r)return i;return f}}}();t.b("ko.jsonExpressionRewriting",t.j);t.b("ko.jsonExpressionRewriting.bindingRewriteValidators",t.j.D);t.b("ko.jsonExpressionRewriting.parseObjectLiteral",t.j.Y);t.b("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",t.j.ia),function(){function n(n){return 8==n.nodeType&&(f?n.text:n.nodeValue).match(c)}function o(n){return 8==n.nodeType&&(f?n.text:n.nodeValue).match(l)}function s(t,i){for(var u=t,f=1,s=[];u=u.nextSibling;){if(o(u)&&(f--,0===f))return s;s.push(u);n(u)&&f++}return i||e(Error("Cannot find closing comment tag to match: "+t.nodeValue)),r}function h(n,t){var i=s(n,t);return i?0<i.length?i[i.length-1].nextSibling:n.nextSibling:r}var f="<!--test-->"===document.createComment("test").text,c=f?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,l=f?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,a={ul:i,ol:i};t.f={C:{},childNodes:function(t){return n(t)?s(t):t.childNodes},ha:function(i){if(n(i))for(var i=t.f.childNodes(i),r=0,u=i.length;r<u;r++)t.removeNode(i[r]);else t.a.U(i)},oa:function(i,r){if(n(i)){t.f.ha(i);for(var f=i.nextSibling,u=0,e=r.length;u<e;u++)f.parentNode.insertBefore(r[u],f)}else t.a.oa(i,r)},xb:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},mb:function(t,i,r){n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i)},nextSibling:function(t){return n(t)?h(t).nextSibling:t.nextSibling&&o(t.nextSibling)?u:t.nextSibling},ta:function(t){return(t=n(t))?t[1]:r},ib:function(n){var i;if(t.f.ta(n)){i=t.f.childNodes(n);for(var u=[],r=0,f=i.length;r<f;r++)t.a.A.F(i[r]),u.push(t.a.outerHTML(i[r]));i=String.prototype.concat.apply("",u);t.f.ha(n);new t.m.I(n).text(i)}},Fa:function(t){var s,u,f,e;if(a[t.tagName.toLowerCase()]&&(s=t.firstChild,s))do if(1===s.nodeType){if(u=s.firstChild,f=r,u)do f?f.push(u):n(u)?(e=h(u,i),e?u=e:f=[u]):o(u)&&(f=[u]);while(u=u.nextSibling);if(u=f)for(f=s.nextSibling,e=0;e<u.length;e++)f?t.insertBefore(u[e],f):t.appendChild(u[e])}while(s=s.nextSibling)}}}();t.L=function(){};t.a.extend(t.L.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind")!=r;case 8:return t.f.ta(n)!=r;default:return f}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t):r},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind");case 8:return t.f.ta(n);default:return r}},parseBindingsString:function(i,u){try{var f=u.$data,o=" { "+t.j.ia(i)+" } ";return t.a.hb(o,f===r?n:f,u)}catch(s){e(Error("Unable to parse bindings.\nMessage: "+s+";\nBindings value: "+i))}}});t.L.instance=new t.L;t.b("ko.bindingProvider",t.L),function(){function o(n,i){for(var r,u=i.childNodes[0];r=u;)u=t.f.nextSibling(r),s(n,r,f)}function s(n,u,f){var s=i,e=1==u.nodeType;e&&t.f.Fa(u);(e&&f||t.L.instance.nodeHasBindings(u))&&(s=h(u,r,n,f).Bb);e&&s&&o(n,u)}function h(n,i,f,o){function l(n){return function(){return s[n]}}function a(){return s}var h=0,s,c;return t.f.ib(n),new t.i(function(){var y=f&&f instanceof t.K?f:new t.K(t.a.d(f)),p=y.$data,r,v;if(o&&t.Na(n,y),s=("function"==typeof i?i():i)||t.L.instance.getBindings(n,y)){if(0===h){h=1;for(r in s)v=t.c[r],v&&8===n.nodeType&&!t.f.C[r]&&e(Error("The binding '"+r+"' cannot be used with virtual elements")),v&&"function"==typeof v.init&&(v=v.init(n,l(r),a,p,y))&&v.controlsDescendantBindings&&(c!==u&&e(Error("Multiple bindings ("+c+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),c=r);h=2}if(2===h)for(r in s)(v=t.c[r])&&"function"==typeof v.update&&v.update(n,l(r),a,p,y)}},r,{disposeWhenNodeIsRemoved:n}),{Bb:c===u}}t.c={};t.K=function(n,t){this.$data=n;t?(this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent),this.$root=t.$root):(this.$parents=[],this.$root=n)};t.K.prototype.createChildContext=function(n){return new t.K(n,this)};t.Na=function(n,i){if(2==arguments.length)t.a.e.set(n,"__ko_bindingContext__",i);else return t.a.e.get(n,"__ko_bindingContext__")};t.xa=function(n,r,u){return 1===n.nodeType&&t.f.Fa(n),h(n,r,u,i)};t.Ta=function(n,t){1===t.nodeType&&o(n,t)};t.wa=function(t,r){r&&1!==r.nodeType&&8!==r.nodeType&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));r=r||n.document.body;s(t,r,i)};t.ea=function(n){switch(n.nodeType){case 1:case 8:var i=t.Na(n);if(i)return i;if(n.parentNode)return t.ea(n.parentNode)}};t.$a=function(n){return(n=t.ea(n))?n.$data:u};t.b("ko.bindingHandlers",t.c);t.b("ko.applyBindings",t.wa);t.b("ko.applyBindingsToDescendants",t.Ta);t.b("ko.applyBindingsToNode",t.xa);t.b("ko.contextFor",t.ea);t.b("ko.dataFor",t.$a)}();t.a.n(["click"],function(n){t.c[n]={init:function(i,r,u,f){return t.c.event.init.call(this,i,function(){var t={};return t[n]=r(),t},u,f)}}});t.c.event={init:function(n,r,u,e){var s=r()||{},o;for(o in s)(function(){var s=o;"string"==typeof s&&t.a.s(n,s,function(n){var h,c=r()[s],l,o;if(c){l=u();try{o=t.a.X(arguments);o.unshift(e);h=c.apply(e,o)}finally{h!==i&&(n.preventDefault?n.preventDefault():n.returnValue=f)}l[s+"Bubble"]===f&&(n.cancelBubble=i,n.stopPropagation&&n.stopPropagation())}})})()}};t.c.submit={init:function(n,r,u,o){"function"!=typeof r()&&e(Error("The value for a submit binding must be a function"));t.a.s(n,"submit",function(t){var u,e=r();try{u=e.call(o,n)}finally{u!==i&&(t.preventDefault?t.preventDefault():t.returnValue=f)}})}};t.c.visible={update:function(n,i){var r=t.a.d(i()),u="none"!=n.style.display;r&&!u?n.style.display="":!r&&u&&(n.style.display="none")}};t.c.enable={update:function(n,r){var u=t.a.d(r());u&&n.disabled?n.removeAttribute("disabled"):u||n.disabled||(n.disabled=i)}};t.c.disable={update:function(n,i){t.c.enable.update(n,function(){return!t.a.d(i())})}};t.c.value={init:function(n,r,u){var o=["change"],e=u().valueUpdate;e&&("string"==typeof e&&(e=[e]),t.a.J(o,e),o=t.a.ya(o));t.a.n(o,function(e){var o=f,s;t.a.Cb(e,"after")&&(o=i,e=e.substring(5));s=o?function(n){setTimeout(n,0)}:function(n){n()};t.a.s(n,e,function(){s(function(){var i=r(),f=t.h.q(n);t.P(i)?i(f):(i=u(),i._ko_property_writers&&i._ko_property_writers.value&&i._ko_property_writers.value(f))})})})},update:function(n,r){var e=t.a.d(r()),u=t.h.q(n),o=e!=u;0===e&&0!==u&&"0"!==u&&(o=i);o&&(u=function(){t.h.S(n,e)},u(),"SELECT"==n.tagName&&setTimeout(u,0));"SELECT"==n.tagName&&0<n.length&&s(n,e,f)}};t.c.options={update:function(n,f,o){var h,c,f,v,a,l;"SELECT"!=n.tagName&&e(Error("options binding applies only to SELECT elements"));var p=0==n.length,w=t.a.ba(t.a.aa(n.childNodes,function(n){return n.tagName&&"OPTION"==n.tagName&&n.selected}),function(n){return t.h.q(n)||n.innerText||n.textContent}),y=n.scrollTop;for(n.scrollTop=0,h=t.a.d(f());0<n.length;)t.F(n.options[0]),n.remove(0);if(h){for(o=o(),"number"!=typeof h.length&&(h=[h]),o.optionsCaption&&(c=document.createElement("OPTION"),t.a.Z(c,o.optionsCaption),t.h.S(c,u),n.appendChild(c)),f=0,v=h.length;f<v;f++){var c=document.createElement("OPTION"),l="string"==typeof o.optionsValue?h[f][o.optionsValue]:h[f],l=t.a.d(l);t.h.S(c,l);a=o.optionsText;l="function"==typeof a?a(h[f]):"string"==typeof a?h[f][a]:l;(l===r||l===u)&&(l="");t.a.Ma(c,l);n.appendChild(c)}for(h=n.getElementsByTagName("OPTION"),f=c=0,v=h.length;f<v;f++)0<=t.a.k(w,t.h.q(h[f]))&&(t.a.La(h[f],i),c++);y&&(n.scrollTop=y);p&&"value"in o&&s(n,t.a.d(o.value),i)}}};t.c.options.la="__ko.optionValueDomData__";t.c.selectedOptions={Da:function(n){for(var i,u=[],n=n.childNodes,r=0,f=n.length;r<f;r++)i=n[r],"OPTION"==i.tagName&&i.selected&&u.push(t.h.q(i));return u},init:function(n,i,r){t.a.s(n,"change",function(){var n=i();t.P(n)?n(t.c.selectedOptions.Da(this)):(n=r(),n._ko_property_writers&&n._ko_property_writers.value&&n._ko_property_writers.value(t.c.selectedOptions.Da(this)))})},update:function(n,i){var r,u;if("SELECT"!=n.tagName&&e(Error("values binding applies only to SELECT elements")),r=t.a.d(i()),r&&"number"==typeof r.length)for(var o=n.childNodes,f=0,s=o.length;f<s;f++)u=o[f],"OPTION"==u.tagName&&t.a.La(u,0<=t.a.k(r,t.h.q(u)))}};t.c.text={update:function(n,i){t.a.Ma(n,i())}};t.c.html={init:function(){return{controlsDescendantBindings:i}},update:function(n,i){var r=t.a.d(i());t.a.Z(n,r)}};t.c.css={update:function(n,i){var u=t.a.d(i()||{}),r,f;for(r in u)"string"==typeof r&&(f=t.a.d(u[r]),t.a.Qa(n,r,f))}};t.c.style={update:function(n,i){var u=t.a.d(i()||{}),r,f;for(r in u)"string"==typeof r&&(f=t.a.d(u[r]),n.style[r]=f||"")}};t.c.uniqueName={init:function(n,i){i()&&(n.name="ko_unique_"+ ++t.c.uniqueName.Za,(t.a.ob||t.a.pb)&&n.mergeAttributes(document.createElement("<input name='"+n.name+"'/>"),f))}};t.c.uniqueName.Za=0;t.c.checked={init:function(n,r,u){t.a.s(n,"click",function(){var f,i;if("checkbox"==n.type)f=n.checked;else if("radio"==n.type&&n.checked)f=n.value;else return;i=r();"checkbox"==n.type&&t.a.d(i)instanceof Array?(f=t.a.k(t.a.d(i),n.value),n.checked&&0>f?i.push(n.value):!n.checked&&0<=f&&i.splice(f,1)):t.P(i)?i()!==f&&i(f):(i=u(),i._ko_property_writers&&i._ko_property_writers.checked&&i._ko_property_writers.checked(f))});"radio"!=n.type||n.name||t.c.uniqueName.init(n,function(){return i})},update:function(n,i){var r=t.a.d(i());"checkbox"==n.type?n.checked=r instanceof Array?0<=t.a.k(r,n.value):r:"radio"==n.type&&(n.checked=n.value==r)}};t.c.attr={update:function(n,i){var s=t.a.d(i())||{},e,o;for(e in s)"string"==typeof e&&(o=t.a.d(s[e]),o===f||o===r||o===u?n.removeAttribute(e):n.setAttribute(e,o.toString()))}};t.c.hasfocus={init:function(n,r,u){function e(n){var i=r();n!=t.a.d(i)&&(t.P(i)?i(n):(i=u(),i._ko_property_writers&&i._ko_property_writers.hasfocus&&i._ko_property_writers.hasfocus(n)))}t.a.s(n,"focus",function(){e(i)});t.a.s(n,"focusin",function(){e(i)});t.a.s(n,"blur",function(){e(f)});t.a.s(n,"focusout",function(){e(f)})},update:function(n,i){var r=t.a.d(i());r?n.focus():n.blur();t.a.sa(n,r?"focusin":"focusout")}};t.c["with"]={o:function(n){return function(){var i=n();return{"if":i,data:i,templateEngine:t.p.M}}},init:function(n,i){return t.c.template.init(n,t.c["with"].o(i))},update:function(n,i,r,u,f){return t.c.template.update(n,t.c["with"].o(i),r,u,f)}};t.j.D["with"]=f;t.f.C["with"]=i;t.c["if"]={o:function(n){return function(){return{"if":n(),templateEngine:t.p.M}}},init:function(n,i){return t.c.template.init(n,t.c["if"].o(i))},update:function(n,i,r,u,f){return t.c.template.update(n,t.c["if"].o(i),r,u,f)}};t.j.D["if"]=f;t.f.C["if"]=i;t.c.ifnot={o:function(n){return function(){return{ifnot:n(),templateEngine:t.p.M}}},init:function(n,i){return t.c.template.init(n,t.c.ifnot.o(i))},update:function(n,i,r,u,f){return t.c.template.update(n,t.c.ifnot.o(i),r,u,f)}};t.j.D.ifnot=f;t.f.C.ifnot=i;t.c.foreach={o:function(n){return function(){var i=t.a.d(n());return!i||"number"==typeof i.length?{foreach:i,templateEngine:t.p.M}:{foreach:i.data,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,templateEngine:t.p.M}}},init:function(n,i){return t.c.template.init(n,t.c.foreach.o(i))},update:function(n,i,r,u,f){return t.c.template.update(n,t.c.foreach.o(i),r,u,f)}};t.j.D.foreach=f;t.f.C.foreach=i;t.b("ko.allowedVirtualElementBindings",t.f.C);t.t=function(){};t.t.prototype.renderTemplateSource=function(){e("Override renderTemplateSource")};t.t.prototype.createJavaScriptEvaluatorBlock=function(){e("Override createJavaScriptEvaluatorBlock")};t.t.prototype.makeTemplateSource=function(n){if("string"==typeof n){var i=document.getElementById(n);return i||e(Error("Cannot find template with ID "+n)),new t.m.g(i)}if(1==n.nodeType||8==n.nodeType)return new t.m.I(n);e(Error("Unknown template type: "+n))};t.t.prototype.renderTemplate=function(n,t,i){return this.renderTemplateSource(this.makeTemplateSource(n),t,i)};t.t.prototype.isTemplateRewritten=function(n){return this.allowTemplateRewriting===f?i:this.W&&this.W[n]?i:this.makeTemplateSource(n).data("isRewritten")};t.t.prototype.rewriteTemplate=function(n,t){var r=this.makeTemplateSource(n),u=t(r.text());r.text(u);r.data("isRewritten",i);"string"==typeof n&&(this.W=this.W||{},this.W[n]=i)};t.b("ko.templateEngine",t.t);t.$=function(){function n(n,i,r){for(var u,o,n=t.j.Y(n),s=t.j.D,f=0;f<n.length;f++)u=n[f].key,s.hasOwnProperty(u)&&(o=s[u],"function"==typeof o?(u=o(n[f].value))&&e(Error(u)):o||e(Error("This template engine does not support the '"+u+"' binding within its templates")));return n="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+t.j.ia(n)+" } })()         })",r.createJavaScriptEvaluatorBlock(n)+i}var i=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,r=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{gb:function(n,i){i.isTemplateRewritten(n)||i.rewriteTemplate(n,function(n){return t.$.ub(n,i)})},ub:function(t,u){return t.replace(i,function(t,i,r,f,e,o,s){return n(s,i,u)}).replace(r,function(t,i){return n(i,"<!-- ko -->",u)})},Ua:function(n){return t.r.ka(function(i,r){i.nextSibling&&t.xa(i.nextSibling,n,r)})}}}();t.b("ko.templateRewriting",t.$);t.b("ko.templateRewriting.applyMemoizedBindingsToNextSibling",t.$.Ua);t.m={};t.m.g=function(n){this.g=n};t.m.g.prototype.text=function(){if(0==arguments.length)return"script"==this.g.tagName.toLowerCase()?this.g.text:this.g.innerHTML;var n=arguments[0];"script"==this.g.tagName.toLowerCase()?this.g.text=n:t.a.Z(this.g,n)};t.m.g.prototype.data=function(n){if(1===arguments.length)return t.a.e.get(this.g,"templateSourceData_"+n);t.a.e.set(this.g,"templateSourceData_"+n,arguments[1])};t.m.I=function(n){this.g=n};t.m.I.prototype=new t.m.g;t.m.I.prototype.text=function(){if(0==arguments.length)return t.a.e.get(this.g,"__ko_anon_template__");t.a.e.set(this.g,"__ko_anon_template__",arguments[0])};t.b("ko.templateSources",t.m);t.b("ko.templateSources.domElement",t.m.g);t.b("ko.templateSources.anonymousTemplate",t.m.I),function(){function o(n,t,i){for(var r=0;node=n[r];r++)node.parentNode===t&&(1===node.nodeType||8===node.nodeType)&&i(node)}function s(r,u,o,s,h){var h=h||{},c=h.templateEngine||n;t.$.gb(o,c);o=c.renderTemplate(o,s,h);("number"!=typeof o.length||0<o.length&&"number"!=typeof o[0].nodeType)&&e("Template engine must return an array of DOM nodes");c=f;switch(u){case"replaceChildren":t.f.oa(r,o);c=i;break;case"replaceNode":t.a.Ja(r,o);c=i;break;case"ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+u))}return c&&(t.ua(o,s),h.afterRender&&h.afterRender(o,s.$data)),o}var n;t.pa=function(i){i==u||i instanceof t.t||e("templateEngine must inherit from ko.templateEngine");n=i};t.ua=function(n,i){var u=t.a.J([],n),f=0<n.length?n[0].parentNode:r;o(u,f,function(n){t.wa(i,n)});o(u,f,function(n){t.r.Sa(n,[i])})};t.na=function(i,f,o,h,c){if(o=o||{},(o.templateEngine||n)==u&&e("Set a template engine before calling renderTemplate"),c=c||"replaceChildren",h){var l=h.nodeType?h:0<h.length?h[0]:r;return new t.i(function(){var n=f&&f instanceof t.K?f:new t.K(t.a.d(f)),u="function"==typeof i?i(n.$data):i,n=s(h,c,u,n,o);"replaceNode"==c&&(h=n,l=h.nodeType?h:0<h.length?h[0]:r)},r,{disposeWhen:function(){return!l||!t.a.ga(l)},disposeWhenNodeIsRemoved:l&&"replaceNode"==c?l.parentNode:l})}return t.r.ka(function(n){t.na(i,f,o,n,"replaceNode")})};t.Ab=function(n,i,f,e,o){function c(n,i){var r=h(n);t.ua(i,r);f.afterRender&&f.afterRender(i,r.$data)}function h(n){return o.createChildContext(t.a.d(n))}return new t.i(function(){var o=t.a.d(i)||[];"undefined"==typeof o.length&&(o=[o]);o=t.a.aa(o,function(n){return f.includeDestroyed||n===u||n===r||!t.a.d(n._destroy)});t.a.Ka(e,o,function(t){var i="function"==typeof n?n(t):n;return s(r,"ignoreTargetNode",i,h(t),f)},f,c)},r,{disposeWhenNodeIsRemoved:e})};t.c.template={init:function(n,r){var u=t.a.d(r());return"string"==typeof u||u.name||1!=n.nodeType||(new t.m.I(n).text(n.innerHTML),t.a.U(n)),{controlsDescendantBindings:i}},update:function(n,u,f,e,o){u=t.a.d(u());e=i;"string"==typeof u?f=u:(f=u.name,"if"in u&&(e=e&&t.a.d(u["if"])),"ifnot"in u&&(e=e&&!t.a.d(u.ifnot)));var s=r;"object"==typeof u&&"foreach"in u?s=t.Ab(f||n,e&&u.foreach||[],u,n,o):e?(o="object"==typeof u&&"data"in u?o.createChildContext(t.a.d(u.data)):o,s=t.na(f||n,o,u,n)):t.f.ha(n);o=s;(u=t.a.e.get(n,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof u.v&&u.v();t.a.e.set(n,"__ko__templateSubscriptionDomDataKey__",o)}};t.j.D.template=function(n){return n=t.j.Y(n),1==n.length&&n[0].unknown?r:t.j.rb(n,"name")?r:"This template engine does not support anonymous templates nested within its templates"};t.f.C.template=i}();t.b("ko.setTemplateEngine",t.pa);t.b("ko.renderTemplate",t.na);t.a.N=function(n,i,f){var e,c,a;if(f===u)return t.a.N(n,i,1)||t.a.N(n,i,10)||t.a.N(n,i,Number.MAX_VALUE);for(var n=n||[],i=i||[],s=n,l=i,o=[],e=0;e<=l.length;e++)o[e]=[];for(e=0,c=Math.min(s.length,f);e<=c;e++)o[0][e]=e;for(e=1,c=Math.min(l.length,f);e<=c;e++)o[e][0]=e;for(var c=s.length,h,v=l.length,e=1;e<=c;e++)for(h=Math.max(1,e-f),a=Math.min(v,e+f);h<=a;h++)o[h][e]=s[e-1]===l[h-1]?o[h-1][e-1]:Math.min(o[h-1][e]===u?Number.MAX_VALUE:o[h-1][e]+1,o[h][e-1]===u?Number.MAX_VALUE:o[h][e-1]+1);if(f=n.length,s=i.length,l=[],e=o[s][f],e===u)o=r;else{for(;0<f||0<s;)c=o[s][f],v=0<s?o[s-1][f]:e+1,a=0<f?o[s][f-1]:e+1,h=0<s&&0<f?o[s-1][f-1]:e+1,(v===u||v<c-1)&&(v=e+1),(a===u||a<c-1)&&(a=e+1),h<c-1&&(h=e+1),v<=a&&v<h?(l.push({status:"added",value:i[s-1]}),s--):(a<v&&a<h?l.push({status:"deleted",value:n[f-1]}):(l.push({status:"retained",value:n[f-1]}),s--),f--);o=l.reverse()}return o};t.b("ko.utils.compareArrays",t.a.N),function(){function n(n){if(2<n.length){for(var t=n[0],r=n[n.length-1],i=[t];t!==r;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(n,[0,n.length].concat(i))}}function e(i,u,f,e){var o=[],i=t.i(function(){var i=u(f)||[];0<o.length&&(n(o),t.a.Ja(o,i),e&&e(f,i));o.splice(0,o.length);t.a.J(o,i)},r,{disposeWhenNodeIsRemoved:i,disposeWhen:function(){return 0==o.length||!t.a.ga(o[0])}});return{sb:o,i:i}}t.a.Ka=function(o,s,h,c,l){for(var v,w,it,nt,s=s||[],c=c||{},rt=t.a.e.get(o,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===u,d=t.a.e.get(o,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],y=t.a.ba(d,function(n){return n.Va}),b=t.a.N(y,s),s=[],k=0,p=[],y=[],g=r,a=0,ut=b.length;a<ut;a++)switch(b[a].status){case"retained":v=d[k];s.push(v);0<v.O.length&&(g=v.O[v.O.length-1]);k++;break;case"deleted":d[k].i.v();n(d[k].O);t.a.n(d[k].O,function(n){p.push({element:n,index:a,value:b[a].value});g=n});k++;break;case"added":var v=b[a].value,w=e(o,h,v,l),tt=w.sb;for(s.push({Va:b[a].value,O:tt,i:w.i}),w=0,it=tt.length;w<it;w++)nt=tt[w],y.push({element:nt,index:a,value:b[a].value}),g==r?t.f.xb(o,nt):t.f.mb(o,nt,g),g=nt;l&&l(v,tt)}if(t.a.n(p,function(n){t.F(n.element)}),h=f,!rt){if(c.afterAdd)for(a=0;a<y.length;a++)c.afterAdd(y[a].element,y[a].index,y[a].value);if(c.beforeRemove){for(a=0;a<p.length;a++)c.beforeRemove(p[a].element,p[a].index,p[a].value);h=i}}h||t.a.n(p,function(n){t.removeNode(n.element)});t.a.e.set(o,"setDomNodeChildrenFromArrayMapping_lastMappingResult",s)}}();t.b("ko.utils.setDomNodeChildrenFromArrayMapping",t.a.Ka);t.p=function(){this.allowTemplateRewriting=f};t.p.prototype=new t.t;t.p.prototype.renderTemplateSource=function(n){return n=n.text(),t.a.ma(n)};t.p.M=new t.p;t.pa(t.p.M);t.b("ko.nativeTemplateEngine",t.p),function(){t.ja=function(){var n=this.qb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(n){}return 1}();this.renderTemplateSource=function(t,i,u){u=u||{};2>n&&e(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var f=t.data("precompiled");return f||(f=t.text()||"",f=jQuery.template(r,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),t.data("precompiled",f)),t=[i.$data],i=jQuery.extend({koBindingContext:i},u.templateOptions),i=jQuery.tmpl(f,t,i),i.appendTo(document.createElement("div")),jQuery.fragments={},i};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){document.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};0<n&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};t.ja.prototype=new t.t;var n=new t.ja;0<n.qb&&t.pa(n);t.b("ko.jqueryTmplTemplateEngine",t.ja)}()}(window),function(n){typeof define=="function"&&define.amd?typeof jQuery!="undefined"?define(["jquery"],n):define([],n):typeof jQuery!="undefined"?n(jQuery):n()}(function(n,t){function a(n,t){for(var u=decodeURI(n),f=l[t||!1?"strict":"loose"].exec(u),i={attr:{},param:{},seg:{}},r=14;r--;)i.attr[h[r]]=f[r]||"";return i.param.query=o(i.attr.query),i.param.fragment=o(i.attr.fragment),i.seg.path=i.attr.path.replace(/^\/+|\/+$/g,"").split("/"),i.seg.fragment=i.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),i.attr.base=i.attr.host?(i.attr.protocol?i.attr.protocol+"://"+i.attr.host:i.attr.host)+(i.attr.port?":"+i.attr.port:""):"",i}function v(n){var t=n.tagName;return typeof t!="undefined"?s[t.toLowerCase()]:t}function e(n,t){var i,r;if(n[t].length==0)return n[t]={};i={};for(r in n[t])i[r]=n[t][r];return n[t]=i,i}function u(n,t,f,o){var h=n.shift(),s;h?(s=t[f]=t[f]||[],"]"==h?i(s)?""!=o&&s.push(o):"object"==typeof s?s[k(s).length]=o:s=t[f]=[t[f],o]:~h.indexOf("]")?(h=h.substr(0,h.length-1),!r.test(h)&&i(s)&&(s=e(t,f)),u(n,s,h,o)):(!r.test(h)&&i(s)&&(s=e(t,f)),u(n,s,h,o))):i(t[f])?t[f].push(o):t[f]="object"==typeof t[f]?o:"undefined"==typeof t[f]?o:[t[f],o]}function y(n,t,f){var e,o;if(~t.indexOf("]")){var s=t.split("["),h=s.length,c=h-1;u(s,n,"base",f)}else{if(!r.test(t)&&i(n.base)){e={};for(o in n.base)e[o]=n.base[o];n.base=e}p(n.base,t,f)}return n}function o(n){return b(String(n).split(/&|;/),function(n,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(e){}var u=t.indexOf("="),f=w(t),r=t.substr(0,f||u),i=t.substr(f||u,t.length),i=i.substr(i.indexOf("=")+1,i.length);return""==r&&(r=t,i=""),y(n,r,i)},{base:{}}).base}function p(n,r,u){var f=n[r];t===f?n[r]=u:i(f)?f.push(u):n[r]=[f,u]}function w(n){for(var u=n.length,r,i,t=0;t<u;++t)if(i=n[t],"]"==i&&(r=!1),"["==i&&(r=!0),"="==i&&!r)return t}function b(n,i){for(var r=0,f=n.length>>0,u=arguments[2];r<f;)r in n&&(u=i.call(t,u,n[r],r,n)),++r;return u}function i(n){return Object.prototype.toString.call(n)==="[object Array]"}function k(n){var t=[];for(prop in n)n.hasOwnProperty(prop)&&t.push(prop);return t}function f(n,i){return arguments.length===1&&n===!0&&(i=!0,n=t),i=i||!1,n=n||window.location.toString(),{data:a(n,i),attr:function(n){return n=c[n]||n,typeof n!="undefined"?this.data.attr[n]:this.data.attr},param:function(n){return typeof n!="undefined"?this.data.param.query[n]:this.data.param.query},fparam:function(n){return typeof n!="undefined"?this.data.param.fragment[n]:this.data.param.fragment},segment:function(n){return typeof n=="undefined"?this.data.seg.path:(n=n<0?this.data.seg.path.length+n:n-1,this.data.seg.path[n])},fsegment:function(n){return typeof n=="undefined"?this.data.seg.fragment:(n=n<0?this.data.seg.fragment.length+n:n-1,this.data.seg.fragment[n])}}}var s={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},h=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],c={anchor:"fragment"},l={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},d=Object.prototype.toString,r=/^[0-9]+$/;typeof n!="undefined"?(n.fn.url=function(t){var i="";return this.length&&(i=n(this).attr(v(this[0]))||""),f(i,t)},n.url=f):window.purl=f})